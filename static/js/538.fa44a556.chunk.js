"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[538],{6308:function(t,e,n){n.d(e,{BG:function(){return h},Bt:function(){return _},I2:function(){return f},kK:function(){return d},wr:function(){return o}});var r=n(5861),a=n(7757),u=n.n(a),c=n(4569),s=n.n(c);s().defaults.baseURL="https://api.themoviedb.org/3";var i="fe6dc393810702cab99031f1eed25696";function o(){return p.apply(this,arguments)}function p(){return(p=(0,r.Z)(u().mark((function t(){var e;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s().get("/trending/all/day?api_key=".concat(i));case 2:return e=t.sent,t.abrupt("return",e.data.results);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function f(t){return l.apply(this,arguments)}function l(){return(l=(0,r.Z)(u().mark((function t(e){var n;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s().get("/search/movie?api_key=".concat(i,"&query=").concat(e));case 2:return n=t.sent,t.abrupt("return",n.data.results);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function h(t){return m.apply(this,arguments)}function m(){return(m=(0,r.Z)(u().mark((function t(e){var n;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s().get("/movie/".concat(e,"?api_key=").concat(i));case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function d(t){return v.apply(this,arguments)}function v(){return(v=(0,r.Z)(u().mark((function t(e){var n;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s().get("/movie/".concat(e,"/credits?api_key=").concat(i,"&language=en-US"));case 2:return n=t.sent,t.abrupt("return",n.data.cast);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function _(t){return y.apply(this,arguments)}function y(){return(y=(0,r.Z)(u().mark((function t(e){var n;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s().get("/movie/".concat(e,"/reviews?api_key=").concat(i,"&language=en-US"));case 2:return n=t.sent,t.abrupt("return",n.data.results);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}},538:function(t,e,n){n.r(e),n.d(e,{default:function(){return _}});var r=n(885),a=n(2791),u=n(501),c=n(6871),s=n(8235),i="Searchbar_Searchbar__4isMs",o="Searchbar_form__oMpj5",p="Searchbar_button__y9ecs",f="Searchbar_label__UsISv",l="Searchbar_input__yBxE1",h=n(184);function m(t){var e=t.onSubmit,n=(0,a.useState)(""),u=(0,r.Z)(n,2),c=u[0],m=u[1];return(0,h.jsx)("header",{className:i,children:(0,h.jsxs)("form",{className:o,onSubmit:function(t){if(t.preventDefault(),""===c.trim())return(0,s.Am)("Enter your search query, please.");e(c),m("")},children:[(0,h.jsx)("input",{className:l,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Enter movie name...",value:c,onChange:function(t){m(t.currentTarget.value.toLowerCase())}}),(0,h.jsx)("button",{type:"submit",className:p,children:"Search"}),(0,h.jsx)("span",{className:f})]})})}var d=n(8666),v=n(6308);function _(){var t,e=(0,u.lr)(),n=(0,r.Z)(e,2),i=n[0],o=n[1],p=(0,a.useState)(null!==(t=i.get("query"))&&void 0!==t?t:""),f=(0,r.Z)(p,2),l=f[0],_=f[1],y=(0,a.useState)([]),b=(0,r.Z)(y,2),x=b[0],g=b[1],w=(0,a.useState)(!1),S=(0,r.Z)(w,2),k=S[0],j=S[1],Z=(0,c.TH)();return(0,a.useEffect)((function(){l&&(j(!0),(0,v.I2)(l).then((function(t){0===t.length&&(0,s.Am)("Sorry, the movie with the title ".concat(l,"is not found. Enter another name")),g(t),j(!1)})))}),[l]),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(m,{onSubmit:function(t){_(t),o({query:t}),g([])}}),k&&(0,h.jsx)(d.Z,{}),x&&(0,h.jsx)("ul",{children:x.map((function(t){return(0,h.jsx)("li",{children:(0,h.jsx)(u.rU,{to:"".concat(t.id),state:{from:Z},children:t.title?t.title:t.name})},t.id)}))})]})}}}]);
//# sourceMappingURL=538.fa44a556.chunk.js.map